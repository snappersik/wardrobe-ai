# ====================================
# Web Framework & Server
# ====================================
fastapi                          # Асинхронный веб-фреймворк для REST API
uvicorn[standard]==0.32.0        # ASGI сервер для запуска FastAPI с WebSocket и HTTP/2

# ====================================
# Database & ORM
# ====================================
sqlalchemy==2.0.36               # ORM для работы с PostgreSQL (async поддержка)
alembic==1.13.3                  # Миграции базы данных (версионирование схемы)
asyncpg==0.29.0                  # Асинхронный драйвер PostgreSQL для SQLAlchemy
psycopg2-binary                  # Синхронный драйвер PostgreSQL (для Alembic миграций)
motor==3.6.0                     # Асинхронный драйвер MongoDB (для логов)

# ====================================
# Data Validation & Settings
# ====================================
pydantic                         # Валидация данных и схемы для API запросов/ответов
pydantic-core                    # Ядро Pydantic (автоматически устанавливается)
pydantic-settings                # Управление настройками из .env файлов
python-dotenv==1.0.1             # Загрузка переменных окружения из .env

# ====================================
# Authentication & Security
# ====================================
python-jose[cryptography]==3.3.0 # JWT токены для авторизации пользователей
passlib==1.7.4                   # Хеширование паролей (поддержка bcrypt)
bcrypt==4.0.1                    # Алгоритм хеширования паролей
argon2-cffi==23.1.0              # Современный алгоритм хеширования (альтернатива bcrypt)
python-multipart==0.0.12         # Обработка multipart/form-data (для OAuth2, загрузки файлов)
email-validator==2.2.0           # Валидация email адресов при регистрации

# ====================================
# AI & Computer Vision (YOLO)
# ====================================
ultralytics==8.3.60              # YOLOv8 для распознавания одежды на фото
# Используем CPU-версию PyTorch (в 10 раз меньше, ~200MB вместо 2GB)
--extra-index-url https://download.pytorch.org/whl/cpu
torch                            # PyTorch CPU-only
torchvision                      # Обработка изображений для PyTorch
opencv-python-headless==4.10.0.84 # Работа с изображениями без GUI (для сервера)

# ====================================
# Image Processing
# ====================================
pillow==11.0.0                   # Обработка и изменение изображений (resize, crop)
rembg==2.0.61                    # Удаление фона с изображений
onnxruntime==1.20.1              # Движок для работы нейросетей rembg


# ====================================
# Data Processing
# ====================================
pandas==2.2.3                    # Анализ данных и работа с таблицами
openpyxl==3.1.5                  # Чтение/запись Excel файлов (экспорт гардероба)

# ====================================
# Async Operations
# ====================================
aiofiles==24.1.0                 # Асинхронное чтение/запись файлов (загрузка фото)
httpx==0.27.2                    # Асинхронные HTTP запросы (API погоды для рекомендаций)

# ====================================
# Python 3.12+ Compatibility
# ====================================
setuptools                       # Требуется для корректной работы passlib на Python 3.12
